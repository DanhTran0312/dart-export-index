module.exports=(()=>{"use strict";var e={546:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.exportDartFilesInCurrentDirectoryDirName=r.exportDartFilesInCurrentDirectory=r.addCurrentFileToIndexDartDirName=r.addCurrentFileToIndexDart=void 0;const i=t(622),n=t(549),o=t(182),s=t(758),a=t(3),l=/\.dart?$/g,c="index.dart";r.addCurrentFileToIndexDart=()=>{try{const e=d();if(null===e)throw new s.ApplicationError("Could not get current file path");if(!e.match(l))throw new s.ApplicationError("The file is not Dart file.");const r=u(e);if(e===r)throw new s.ApplicationError("The file is the index file itself.");a.createFileIfNotExists(r);const t=h(e);w(r,t)}catch(e){if(e instanceof s.ApplicationError)return void n.window.showErrorMessage(e.message);throw e}},r.addCurrentFileToIndexDartDirName=()=>{try{const e=d();if(null===e)throw new s.ApplicationError("Could not get current file path");if(!e.match(l))throw new s.ApplicationError("The file is not Dart file.");const r=f(e);if(e===r)throw new s.ApplicationError("The file is the index file itself.");a.createFileIfNotExists(r);const t=h(e);w(r,t)}catch(e){if(e instanceof s.ApplicationError)return void n.window.showErrorMessage(e.message);throw e}},r.exportDartFilesInCurrentDirectory=()=>{try{const e=p(),r=d();if(null===r)throw new s.ApplicationError("Could not get current file path");const t=u(r);a.createFileIfNotExists(t),a.clearFile(t),e.forEach((e=>{if(e===c)return;const r=h(e);w(t,r)}))}catch(e){if(e instanceof s.ApplicationError)return void n.window.showErrorMessage(e.message);throw e}},r.exportDartFilesInCurrentDirectoryDirName=()=>{try{const e=p(),r=d();if(null===r)throw new s.ApplicationError("Could not get current file path");const t=f(r);a.createFileIfNotExists(t),a.clearFile(t),e.forEach((e=>{if(e===c||e===i.basename(t))return;const r=h(e);w(t,r)}))}catch(e){if(e instanceof s.ApplicationError)return void n.window.showErrorMessage(e.message);throw e}};const d=()=>{if(!o.fileIsOpened())throw new s.ApplicationError("No file is opened.");if(!o.fileIsSaved())throw new s.ApplicationError("The file is not saved yet.");return o.getCurrentFilePath()},p=()=>{if(!o.fileIsOpened())throw new s.ApplicationError("No file is opened.");if(!o.fileIsSaved())throw new s.ApplicationError("The file is not saved yet.");const e=o.getCurrentFilePath();if(null===e)throw new s.ApplicationError("Could not get current file path");const r=i.dirname(e);return a.listFiles(r).filter((e=>e.match(l)))},u=e=>{const r=i.dirname(e);return i.join(r,"index.dart")},f=e=>{const r=i.dirname(e),t=r.split("/"),n=t[t.length-1];return i.join(r,`${n}.dart`)},h=e=>`export '${i.basename(e)}';`,w=(e,r)=>{const t=a.getLines(e).filter((e=>""!==e));t.includes(r)||t.push(r),t.sort();const i=`${t.join("\n")}\n`;a.writeFile(e,i)}},885:function(e,r,t){var i=this&&this.__createBinding||(Object.create?function(e,r,t,i){void 0===i&&(i=t),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,i){void 0===i&&(i=t),e[i]=r[t]}),n=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||i(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),n(t(546),r)},112:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.deactivate=r.activate=void 0;const i=t(549),n=t(885);r.activate=function(e){const r=i.commands.registerCommand("extension.addCurrentFileToIndexDart",(()=>{n.addCurrentFileToIndexDart()})),t=i.commands.registerCommand("extension.addCurrentFileToIndexDartDirName",(()=>{n.addCurrentFileToIndexDartDirName()})),o=i.commands.registerCommand("extension.exportDartFilesInCurrentDirectory",(()=>{n.exportDartFilesInCurrentDirectory()})),s=i.commands.registerCommand("extension.exportDartFilesInCurrentDirectoryDirName",(()=>{n.exportDartFilesInCurrentDirectoryDirName()}));e.subscriptions.push(r),e.subscriptions.push(t),e.subscriptions.push(o),e.subscriptions.push(s)},r.deactivate=function(){}},182:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getCurrentFilePath=r.fileIsSaved=r.fileIsOpened=void 0;const i=t(549),n=t(758);r.fileIsOpened=()=>!!i.window.activeTextEditor,r.fileIsSaved=()=>{if(!r.fileIsOpened)return!1;const e=i.window.activeTextEditor;if(void 0===e)throw new n.ApplicationError("No active editor available");return!e.document.isUntitled},r.getCurrentFilePath=()=>{if(!r.fileIsOpened||!r.fileIsSaved)return null;const e=i.window.activeTextEditor;if(void 0===e)throw new n.ApplicationError("No active editor available");return e.document.fileName}},758:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ApplicationError=void 0,r.ApplicationError=class{constructor(e){this.message=e,this.name="ApplicationError"}toString(){return`${this.name}: ${this.message}`}}},3:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.FileAlreadyExistsError=r.writeFile=r.getLines=r.clearFile=r.createFileIfNotExists=r.listFiles=r.createFile=r.fileExists=void 0;const i=t(747),n=t(758);r.fileExists=e=>i.existsSync(e),r.createFile=e=>{if(r.fileExists(e))throw new o(`${e} already exists`);i.appendFileSync(e,"","utf-8")},r.listFiles=e=>i.readdirSync(e),r.createFileIfNotExists=e=>{r.fileExists(e)||r.createFile(e)},r.clearFile=e=>{r.fileExists(e)&&i.writeFileSync(e,"")},r.getLines=e=>i.readFileSync(e,"utf-8").split("\n"),r.writeFile=(e,r)=>{i.writeFileSync(e,r)};class o extends n.ApplicationError{}r.FileAlreadyExistsError=o},747:e=>{e.exports=require("fs")},622:e=>{e.exports=require("path")},549:e=>{e.exports=require("vscode")}},r={};return function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{}};return e[i].call(n.exports,n,n.exports,t),n.exports}(112)})();